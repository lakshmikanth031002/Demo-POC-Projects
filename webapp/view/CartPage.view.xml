<mvc:View
    controllerName="ladera.mobiles.controller.CartPage"
    displayBlock="true"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:table="sap.ui.table"
    xmlns:core="sap.ui.core"
    core:require="{ formatter: 'ladera/mobiles/util/formatter' }"
>
    <Page id="CartPage" showHeader="false">
		 <Toolbar>
            <content>
            <Title text="Shopping Cart"/>
			<ToolbarSpacer/>
			<Button icon="sap-icon://delete" press="onDeleteCartItems"/>
            </content>
        </Toolbar>
        <table:Table rows="{cartModel>/cartItems}"
				     selectionMode="MultiToggle">

            <table:columns>
                <table:Column width="12rem" hAlign="Center">
                    <Label text="Product"/>
                    <table:template>
						<Image src="{cartModel>image}" width="150px" height="150px" />
					</table:template>
                </table:Column>
                <table:Column width="10rem" hAlign="Center">
                    <Label text="Product Name" />
                    <table:template>
						<Text text="{cartModel>name}" class="redText"/>
					</table:template>
                </table:Column>
                <table:Column width="10rem" hAlign="Center">
                    <Label text="Varient(Ram/Storage)" />
                    <table:template>
						<Text text="{cartModel>varient}" />
					</table:template>
                </table:Column>
                <table:Column width="10rem" hAlign="Center">
                    <Label text="Quantity" />
                    <table:template>
                        <Text  text="{cartModel>Quantity}"/>
						<!-- <HBox alignItems="Center" justifyContent="Center">
                            <Button icon="sap-icon://less" press="onDecreaseQuantity" />
                            <Input value="{cartModel>quantity}" width="3rem" textAlign="Center" editable="false"/>
                            <Button icon="sap-icon://add" press="onIncreaseQuantity" />
                        </HBox> -->
					</table:template>
                </table:Column>
                <table:Column width="10rem" hAlign="Center">
                    <Label text="Product Price" />
                    <table:template>
						<Text text="{cartModel>price}" class="greenText"/>
					</table:template>
                </table:Column>
                <table:Column width="15rem" hAlign="Center">
                    <Label text="Product Price * Quantity" />
                    <table:template>
                        <Text text="{ path: 'cartModel>priceQuantity', formatter: 'formatter.formatINRCurrency' }" class="greenText"/>
					</table:template>
                </table:Column>
            </table:columns>

        </table:Table>
		<footer>
			<Toolbar>
				<ToolbarSpacer/>
                <Text
                    id="totalPriceValue"
                    text="Total: { path: 'cartModel>/totalAmount' , formatter: 'formatter.formatINRCurrency'}"
                    class="sapUiTinyMarginBegin" />
				<Button
					id="proceedButton"
					type="Accept"
					text="Buy Now"
					enabled="{
						path: 'cartProducts>/cartEntries',
						formatter: '.formatter.hasItems'
					}"
					visible="{cfg>/notInDelete}"
					press=".onBuyNowButtonPress"/>
			</Toolbar>
		</footer>
    </Page>
</mvc:View>
